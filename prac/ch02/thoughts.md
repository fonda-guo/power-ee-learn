# PWM modulation

## date 3-16

H桥中PWM的特性：

基于经典全桥结构的调制方法，有**Bipolar（双极性）、unipolar（单极性）、Hybrid（混合）**，各有利弊，但是都是对SPWM的权衡与利用，对于如下经典H桥结构：

![image-20240316220410779](E:\document\learn ee\ch02\pics\image-20240316220410779.png)

唯一的硬性限制就是$S_1(S_4)$和$S_2(S_3)$不能同时闭合（短路），软性限制为$S_1(S_4)$和$S_2(S_3)$不要同时断开（此时A点无电压，系统断路，在上图所示的结构下，暂时没发现这种做法的意义），其余开关特性往往依赖于调节方法。

针对H桥的前半部分为调制，后半部分为滤波。针对前半部分而言，其输出为AB两点间的电压，即$U_{AB}$，也是H桥部分最应该关心的部分。根据上述软性限制可知，通过描述$S_1 \& S_3$的开关状态即可得到$U_{AB}$。

换言之，采用SPWM对$S_1$进行调制的过程中，通过对PWM的分析即可知$U_{AB}$状态。更近一步的，可以用$SPWM_{s_1} - SPWM_{s_2}$来表述$U_{AB}$对输入电压的三种状态-1，0，1。

对于**Bipolar**的SPWM之差，显然可以表示为$SPWM_{s_1} - \overline{SPWM_{s_1}}$（互补开关），那么对于SPWM而言，1不变，0变-1；

对于**Unipolar**而言，就很有意思，$S_1 \& S_3$由对称的一组sin波产生的，原波形和做差之后的波形如下。

![image-20240316225501548](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240316225501548.png)



![image-20240316230249519](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240316230249519.png)

![image-20240316230315921](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240316230315921.png)

第一减第二得到第三，有零。如果有中心对称假设（SPWM为1的时刻是关于三角波下顶点对称的,需要满足一定的频率假设），那么对于$U_{AB}$而言，如果$SPWM_{s_1}$的占空比为$D_{s_1}$，则输出为$2D_{s_1}-1$，下面这个频率极端一点的情况，就不太对劲，与周期的最小公倍数有关。

![image-20240316233601883](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240316233601883.png)

![image-20240316233722693](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240316233722693.png)

对于**Hybrid**而言，相当于$SPWM_{s_1}$的一半周期减下来（-1），但是这样效果并不好：

![image-20240317135248092](C:\Users\13991\AppData\Roaming\Typora\typora-user-images\image-20240317135248092.png)

由此可有两种变体但是都是需要将三角波作为[0,1]再对称到[-1,0]的操作，原因有待细究，感觉跟反向能量中和有关系。

## Date 3-17、3-19

新的拓扑，**HMA（H5）**，增加了一个开关管，与前面的分析变的不一样，单纯将$S_1-S_3$状态作为输出电压已经不再适用。经典H桥1，2没有同时开，但是这里利用了续流二极管，完成只有$S_3$闭的情况下，电路依然工作实现0电压。由于$\overline{S_1}$&spwm得到了$S_2$，所以依然不会同时关断，但是1断开，2会以SPWM方式高频闭合。

从开关图来看，$S_1$闭合的时候，$S_4, S_5$以同样SPWM形式开关取电；下半周期，$S_3$闭合的时候，$S_4, S_5$以SPWM形式开关取电。取一点电，就出现0电压。

$H_5$的存在，更好的隔离了电源和负载，防止0电压时候出现不必要的能量交换。(仿真已调试完成)，$H_5$电流在上下边切换，为了得到好的波形，电感值取小，电容值取大，负载很小，具体原因有待进一步思考。

**Heric**(highly efficient and reliable inverter concept)，添加了两个开关管，此时$S_1, S_3$没有同时闭合的时候，完全通过新加的两个开关管实现零输出电压，与H5一样实现隔离。(与H5一样，电流变化过慢，需要调低电感才能出sin波形，仿真有待进一步调试（调制尝试翻转和对称做差），具体问题有待深入思考)

**FBDC**(Full-Bridge Inverter with DC Bypass)，PPT仿真给有点对不上？零电压如何通过断开外部56，闭合H桥所有开关实现？

**ZVFBR**、**Ultra Eta**有时间再补充，需要进一步理解相关知识。



**NPC**（Neutral point clamped）中性点钳位，取一半电压输出；



